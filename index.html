<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Plank</title>
<script type="text/javascript" src="js/lib/three.min.js">
	
</script>
<script type="text/javascript" src="js/lib/OrbitControls.js">
	
</script>
<script type="text/javascript" src="js/Utils.js">
	
</script>
<script type="text/javascript" src="js/MatrixUtils.js">
	
</script>
<script type="text/javascript" src="js/Finishing.js">
	
</script>
<script type="text/javascript" src="js/Face.js">
	
</script>
<script type="text/javascript" src="js/Plank.js">
	
</script>
<script type="text/javascript">
	var renderer, scene, camera, controls;

	function initRendering() {

		camera = new THREE.PerspectiveCamera(45, window.innerWidth
				/ window.innerHeight, 1, 10000);
		camera.position.z = 5000;

		controls = new THREE.OrbitControls(camera);
		controls.addEventListener('change', render);

		scene = new THREE.Scene();

		renderer = new THREE.WebGLRenderer({
			alpha : true
		});
		renderer.setSize(window.innerWidth, window.innerHeight);

		var divElement = document.getElementById("container");
		divElement.appendChild(renderer.domElement);

		window.addEventListener('resize', onWindowResize, false);
		
		addPlank();

		render();

	}

	function onWindowResize() {

		camera.aspect = window.innerWidth / window.innerHeight;
		camera.updateProjectionMatrix();
		renderer.setSize(window.innerWidth, window.innerHeight);
		render();

	}

	function addPlank() {

		var plank = new Plank(100, 50, 10);
		var vertices = plank.vertices;

		var geometry = new THREE.Geometry();

		for (var i = 0; i < 8; i++) {
			geometry.vertices.push(new THREE.Vector3(vertices[0][i],
					vertices[1][i], vertices[2][i]))
		}

		geometry.faces.push(new THREE.Face3(0, 1, 2));
		geometry.faces.push(new THREE.Face3(0, 2, 3));

		geometry.faces.push(new THREE.Face3(4, 5, 6));
		geometry.faces.push(new THREE.Face3(4, 6, 7));

		geometry.faces.push(new THREE.Face3(0, 4, 7));
		geometry.faces.push(new THREE.Face3(0, 7, 3));

		geometry.faces.push(new THREE.Face3(1, 2, 5));
		geometry.faces.push(new THREE.Face3(2, 6, 5));

		geometry.faces.push(new THREE.Face3(3, 7, 6));
		geometry.faces.push(new THREE.Face3(6, 7, 2));

		geometry.faces.push(new THREE.Face3(1, 5, 4));
		geometry.faces.push(new THREE.Face3(1, 4, 0));

		var material = new THREE.MeshBasicMaterial({
			color : 0x8080FF
		});

		var mesh = new THREE.Mesh(geometry, material);

		scene.add(mesh);

	}

	function render() {
		renderer.render(scene, camera);
	}
</script>
</head>
<body onload = "initRendering()">
	<div id="container"></div>
</body>
</html>